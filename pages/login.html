<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
     <link rel="stylesheet" href="../style/main.css">
    <link rel="icon" type="image/x-icon" href="../web/ytlogo.png">
    
    <style>
        @font-face {
            font-family: minecraft;
            src: url('../font/Minecraft-Default.otf');
        }
        @font-face {
            font-family: minecraft-ten;
            src: url('../font/Minecraft-Ten.ttf');
        }
        @font-face {
            font-family: minecraft-five;
            src: url('../font/Minecraft-Five.ttf');
        }
          } 
        }
    </style>
    <title>login page</title>
</head>
<body>
  <div class="header"> Login <img src="../imag/gif_test-83efe.gif" height="30">
  <div class="description">
  <div class="login-box">
    <form id="loginForm">
    <br>
      <input type="text" id="username" placeholder="username " required>
     </br>  
     <br>
      <input type="password" id="password" placeholder="password" required>
    </br> 
      <div class="description">
        <div class="button"> 
      <button type="submit" id="greenButton"> Login <img src="../imag/enter-icon-31b5a.png"h height="15"></button></div> 
      </div> 
      <div> 
      <div class="description">
        <div class="button"> 
      <button type="button" id="whiteButton"> Sign in</button></div> 
      </div> 
     <img src="../imag/parental-online-safety-8fad2.png">
    </form>
  </div>
  <script>
    const users = JSON.parse(localStorage.getItem('users')) || {};

    document.getElementById('loginForm').addEventListener('submit', function (e) {
      e.preventDefault();
      const username = document.getElementById('username').value.trim();
      const password = document.getElementById('password').value.trim();

      if (!username || !password) {
        alert('يرجى ملء جميع الحقول');
        return;
      }

      if (users[username] && users[username].password === password) {
        alert(`welcome back ${username}!`);
        localStorage.setItem('activeUser', username);
        window.location.href = 'points.html';
      } else {
        alert('اسم المستخدم أو كلمة المرور غير صحيحة');
      }
    });

    document.getElementById('whiteButton').addEventListener('click', function () {
      const username = document.getElementById('username').value.trim();
      const password = document.getElementById('password').value.trim();

      if (!username || !password) {
        alert('يرجى ملء جميع الحقول لإنشاء الحساب');
        return;
      }

      if (users[username]) {
        alert('اسم المستخدم موجود بالفعل');
        return;
      }

      users[username] = { password, points: 0 };
      localStorage.setItem('users', JSON.stringify(users));
      alert(`تم إنشاء الحساب بنجاح! مرحبًا ${username}.`);
    });
    
  </script>
</body>

</html>